{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/graph-connections/cable/cable.component.html","webpack:///./src/app/graph-connections/cable/cable.component.scss","webpack:///./src/app/graph-connections/cable/cable.component.ts","webpack:///./src/app/graph-connections/graph-connections.component.html","webpack:///./src/app/graph-connections/graph-connections.component.scss","webpack:///./src/app/graph-connections/graph-connections.component.ts","webpack:///./src/app/graph-node/graph-node.component.html","webpack:///./src/app/graph-node/graph-node.component.scss","webpack:///./src/app/graph-node/graph-node.component.ts","webpack:///./src/app/graph-node/socket/socket.component.html","webpack:///./src/app/graph-node/socket/socket.component.scss","webpack:///./src/app/graph-node/socket/socket.component.ts","webpack:///./src/app/graphNodes.ts","webpack:///./src/app/keyboard/keyboard.component.html","webpack:///./src/app/keyboard/keyboard.component.scss","webpack:///./src/app/keyboard/keyboard.component.ts","webpack:///./src/app/midiNodes.ts","webpack:///./src/app/socket-connector.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<div class=\\\"main-container\\\">\\n  <header class=\\\"header header-6\\\">\\n  </header>\\n  <nav class=\\\"subnav\\\">\\n    <button (click)=\\\"debug()\\\">Debug</button>\\n    <button (click)=\\\"addNode(SynthNode)\\\">Add Synth</button>\\n    <div class=\\\"btn-group btn-primary\\\">\\n      <button *ngFor=\\\"let name of nodeNames\\\" (click)=\\\"addNode(name)\\\">\\n        {{name}}\\n      </button>\\n    </div>\\n  </nav>\\n  <div class=\\\"content-container\\\">\\n    <div class=\\\"content-area\\\">\\n    <app-keyboard [onTrigger]=\\\"triggerSynth\\\"></app-keyboard>\\n    <div class=\\\"graph-container\\\">\\n      <app-graph-node\\n        *ngFor=\\\"let graphNode of graphNodes\\\"\\n        [graphNode]=\\\"graphNode\\\"\\n        [makeConnectionFrom]=\\\"makeConnectionFrom\\\"\\n        [makeConnectionTo]=\\\"makeConnectionTo\\\"\\n        cdkDrag>\\n      </app-graph-node>\\n      <app-graph-connections [connections]=\\\"connections\\\"></app-graph-connections>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".graph-container {\\n  display: flex; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RpYm9yL1Byb2plY3RzL3ZpcnR1YXcvdmlydHVhdy13ZWIvc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ3JhcGgtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport Tone from 'tone';\n// import { LGraph, LGraphCanvas, LiteGraph } from 'litegraph.js';\nimport { LiteGraph } from 'litegraph.js';\n\nimport {\n  NodeInput,\n  NodeOutput\n} from './graphNodes';\n\nimport * as midiNode from './midiNodes';\n// import {\n//   SynthNode,\n//   HarmonizeNode,\n//   AddIntervalsNode,\n//   KeyboardNode,\n//   ArpeggiatorNode\n// } from './midiNode';\n\nimport { SocketConnectorService } from './socket-connector.service';\n\nconst keyboard = new midiNode.KeyboardNode();\nconst simpleSynth = new midiNode.SynthNode('Simple Synth');\nconst major = new midiNode.HarmonizeNode([0, 4, 7], 'Harmonize Major');\nconst minor = new midiNode.HarmonizeNode([0, 3, 7], 'Harmonize Minor');\nconst lydian = new midiNode.HarmonizeNode([0, 3, 7, 13], 'Minor 13th');\nconst arpeggiator = new midiNode.ArpeggiatorNode(100, 5);\nconst envelope = new midiNode.EnvelopeNode();\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent implements OnInit {\n  title = 'virtuaw-web';\n  graphNodes = [keyboard, major, minor, envelope, arpeggiator, simpleSynth];\n  graph: any;\n  canvas: any;\n  inputSlot = null;\n  outputSlot = null;\n\n  get connections() {\n    return this.graphNodes.reduce((connections, node) => {\n      return [].concat(connections.concat(...node.connections));\n    },\n    []);\n  }\n\n  availableNodes = {\n    Keyboard: midiNode.KeyboardNode,\n    'Simple Synth': midiNode.SynthNode,\n    Harmonize: midiNode.HarmonizeNode,\n    Arpeggiator: midiNode.ArpeggiatorNode,\n    Envelope: midiNode.EnvelopeNode\n  };\n\n  get nodeNames() {\n    return Object.keys(this.availableNodes);\n  }\n\n  triggerSynth = (value, active) => keyboard.onTrigger(value, active);\n\n  addNode(name) {\n    const node = new this.availableNodes[name]();\n    this.graphNodes.push(node);\n  }\n\n  ngOnInit() {\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ClarityModule } from '@clr/angular';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { KeyboardComponent } from './keyboard/keyboard.component';\nimport { GraphNodeComponent } from './graph-node/graph-node.component';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { SocketComponent } from './graph-node/socket/socket.component';\nimport { GraphConnectionsComponent } from './graph-connections/graph-connections.component';\nimport { CableComponent } from './graph-connections/cable/cable.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    KeyboardComponent,\n    GraphNodeComponent,\n    SocketComponent,\n    GraphConnectionsComponent,\n    CableComponent,\n  ],\n  imports: [\n    BrowserModule,\n    DragDropModule,\n    ClarityModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"<svg:g>\\n  <svg:path [attr.d]=\\\"pathString\\\" stroke=\\\"black\\\" fill=\\\"transparent\\\" stroke-width=\\\"3\\\" />\\n</svg:g>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dyYXBoLWNvbm5lY3Rpb25zL2NhYmxlL2NhYmxlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: '[app-cable]',\n  templateUrl: './cable.component.html',\n  styleUrls: ['./cable.component.scss']\n})\nexport class CableComponent implements OnInit {\n  @Input() startPos: { x: 0, y: 0 };\n\n  @Input() endPos: { x: 0, y: 0 };\n\n  elasticity = 0.2;\n\n  get qPos() {\n    const { x: sX, y: sY } = this.startPos;\n    const { x: eX, y: eY } = this.endPos;\n\n    const length = Math.sqrt((sX - eX) ** 2 + (sY - eY) ** 2);\n\n    const sag = length * this.elasticity;\n\n    const center = {\n      x: (sX + eX) / 2,\n      y: (sY + eY) / 2\n    };\n\n    return { x: center.x, y: center.y + sag };\n  }\n\n  get pathString() {\n    const { x: sX, y: sY } = this.startPos;\n    const { x: eX, y: eY } = this.endPos;\n    const { x: qX, y: qY } = this.qPos;\n\n    return `M${sX} ${sY} Q ${qX} ${qY} ${eX} ${eY}`;\n  }\n\n  viewBox: string;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<svg width=\\\"100%\\\" height=\\\"100%\\\" [attr.viewBox]=\\\"viewBox\\\">\\n  <svg:g app-cable *ngIf=\\\"service.isConnecting\\\" [startPos]=\\\"startPos\\\" [endPos]=\\\"mousePos\\\" />\\n  <svg:g app-cable *ngFor=\\\"let conn of connections\\\" [startPos]=\\\"getOutput(conn)\\\" [endPos]=\\\"getInput(conn)\\\" />\\n</svg>\\n\"","module.exports = \":host {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  pointer-events: none; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RpYm9yL1Byb2plY3RzL3ZpcnR1YXcvdmlydHVhdy13ZWIvc3JjL2FwcC9ncmFwaC1jb25uZWN0aW9ucy9ncmFwaC1jb25uZWN0aW9ucy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixPQUFPO0VBQ1AsTUFBTTtFQUNOLFlBQVk7RUFDWixhQUFhO0VBQ2Isb0JBQW9CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9ncmFwaC1jb25uZWN0aW9ucy9ncmFwaC1jb25uZWN0aW9ucy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIHdpZHRoOiAxMDB2dztcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG4iXX0= */\"","import { Component, OnInit, Input, HostListener } from '@angular/core';\nimport { SocketConnectorService } from '../socket-connector.service';\n\n@Component({\n  selector: 'app-graph-connections',\n  templateUrl: './graph-connections.component.html',\n  styleUrls: ['./graph-connections.component.scss']\n})\n\nexport class GraphConnectionsComponent implements OnInit {\n  @Input() connections;\n  get viewBox() {\n    const w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    const h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n    return `0 0 ${w} ${h}`;\n  }\n\n  mousePos = {\n    x: 0,\n    y: 0\n  };\n\n  @HostListener('document:mousemove', ['$event'])\n  onMouseMove(event) {\n    const { clientX, clientY } = event;\n    this.mousePos.x = clientX;\n    this.mousePos.y = clientY;\n  }\n\n  get startPos() {\n    const { top, left, width, height } = this.service.startElement.getBoundingClientRect();\n    return { x: left + width / 2, y: top + width / 2 };\n  }\n\n  getOutput(connection) {\n    const { top, left, width, height } = document.querySelector(`#output_${connection.from.id}`).getBoundingClientRect();\n    return { x: left + width / 2, y: top + width / 2 };\n  }\n\n  getInput(connection) {\n    const { top, left, width, height } = document.querySelector(`#input_${connection.to.id}`).getBoundingClientRect();\n    return { x: left + width / 2, y: top + width / 2 };\n  }\n\n  constructor(private service: SocketConnectorService) {\n    this.service.connections = this.connections;\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-header\\\">\\n    {{graphNode.title}}\\n  </div>\\n  <div class=\\\"card-block\\\">\\n\\n    <div class=\\\"interface inputs\\\">\\n      <div class=\\\"card-title\\\">Inputs</div>\\n      <app-socket\\n        *ngFor=\\\"let input of graphNode.inputs\\\"\\n        class=\\\"input\\\" [socket]=\\\"input\\\"\\n        ></app-socket>\\n    </div>\\n\\n    <div class=\\\"interface outputs\\\">\\n      <div class=\\\"card-title\\\">Outputs</div>\\n      <app-socket\\n        *ngFor=\\\"let output of graphNode.outputs\\\"\\n        class=\\\"output\\\" [socket]=\\\"output\\\"\\n        ></app-socket>\\n    </div>\\n\\n  </div>\\n</div>\\n\"","module.exports = \".card {\\n  margin: 0 30px;\\n  width: 280px;\\n  height: 300px;\\n  flex: 0; }\\n  .card .card-block {\\n    display: flex;\\n    justify-content: space-between; }\\n  .card .card-block .interface {\\n      display: flex;\\n      flex-direction: column;\\n      flex: 1;\\n      align-content: end; }\\n  .card .card-block .interface.outputs {\\n        text-align: right;\\n        float: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RpYm9yL1Byb2plY3RzL3ZpcnR1YXcvdmlydHVhdy13ZWIvc3JjL2FwcC9ncmFwaC1ub2RlL2dyYXBoLW5vZGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsWUFBWTtFQUNaLGFBQWE7RUFDYixPQUFPLEVBQUE7RUFKVDtJQU9JLGFBQWE7SUFDYiw4QkFBOEIsRUFBQTtFQVJsQztNQVdNLGFBQWE7TUFDYixzQkFBc0I7TUFDdEIsT0FBTztNQUNQLGtCQUFrQixFQUFBO0VBZHhCO1FBaUJRLGlCQUFpQjtRQUNqQixZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9ncmFwaC1ub2RlL2dyYXBoLW5vZGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCB7XG4gIG1hcmdpbjogMCAzMHB4O1xuICB3aWR0aDogMjgwcHg7XG4gIGhlaWdodDogMzAwcHg7XG4gIGZsZXg6IDA7XG5cbiAgLmNhcmQtYmxvY2sge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXG4gICAgLmludGVyZmFjZSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBhbGlnbi1jb250ZW50OiBlbmQ7XG5cbiAgICAgICYub3V0cHV0cyB7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Node } from '../graphNodes';\n\n@Component({\n  selector: 'app-graph-node',\n  templateUrl: './graph-node.component.html',\n  styleUrls: ['./graph-node.component.scss']\n})\nexport class GraphNodeComponent implements OnInit {\n\n  @Input() graphNode: Node;\n\n  @Input() makeConnectionTo;\n  @Input() makeConnectionFrom;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"socket\\\"\\n     [attr.id]=\\\"socket.socketType+'_'+socket.id\\\"\\n     [attr.title]=\\\"socket.title\\\"\\n     (mousedown)=\\\"onMousedown($event)\\\"\\n     (click)=\\\"onClick($event)\\\">\\n</div>\\n<input *ngIf=\\\"socket.allowInput\\\" (keyup)=\\\"onKey($event)\\\" placeholder=\\\"My input\\\" name=\\\"input\\\" [(ngModel)]=\\\"socket.value\\\" />\\n<span class=\\\"socket-title\\\">{{socket.title}}</span>\\n\"","module.exports = \":host {\\n  padding: none;\\n  position: flex;\\n  align-items: flex-start;\\n  justify-items: center; }\\n  :host .socket {\\n    position: absolute;\\n    margin-top: 4px;\\n    width: 18px;\\n    height: 18px;\\n    cursor: pointer;\\n    border-radius: 50%;\\n    background-color: #8080a4;\\n    box-shadow: inset 0 0 4px #000;\\n    -webkit-filter: none;\\n            filter: none;\\n    transition: all 0.2s ease; }\\n  :host .socket:hover {\\n    -webkit-filter: drop-shadow(0 0 2px rgba(164, 164, 178, 0.8)) drop-shadow(0 0 4px rgba(128, 128, 200, 0.2)) drop-shadow(0 0 24px rgba(128, 128, 226, 0.2));\\n            filter: drop-shadow(0 0 2px rgba(164, 164, 178, 0.8)) drop-shadow(0 0 4px rgba(128, 128, 200, 0.2)) drop-shadow(0 0 24px rgba(128, 128, 226, 0.2));\\n    background-color: #c8c8e4;\\n    box-shadow: inset 0 0 8px rgba(164, 164, 226, 0.6); }\\n  :host .socket-title {\\n    font-size: 10px;\\n    display: inline-block; }\\n  :host input {\\n    font-size: 10px;\\n    margin-left: 12px;\\n    background-color: #DDDDDD;\\n    box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.6);\\n    border: none;\\n    color: #333333;\\n    height: 18px;\\n    width: 50px;\\n    transition: all 0.2s ease;\\n    padding: 4px; }\\n  :host input:hover, :host input:focus, :host input:active {\\n    box-shadow: inset 0px 0px 2px rgba(0, 0, 0, 0.6);\\n    background-color: #EEEEEE; }\\n  :host input:focus, :host input:active {\\n    background-color: #FFFFFF; }\\n  :host.input {\\n    align-items: flex-end; }\\n  :host.input .socket {\\n      left: 5px; }\\n  :host.input .socket-title {\\n      margin-left: 12px; }\\n  :host.output .socket {\\n    right: 5px; }\\n  :host.output .socket-title {\\n    margin-right: 12px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RpYm9yL1Byb2plY3RzL3ZpcnR1YXcvdmlydHVhdy13ZWIvc3JjL2FwcC9ncmFwaC1ub2RlL3NvY2tldC9zb2NrZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsY0FBYztFQUNkLHVCQUF1QjtFQUN2QixxQkFBcUIsRUFBQTtFQUp2QjtJQU9JLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsV0FBVztJQUNYLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLHlCQUFrQztJQUNsQyw4QkFBOEI7SUFDOUIsb0JBQVk7WUFBWixZQUFZO0lBQ1oseUJBQXlCLEVBQUE7RUFoQjdCO0lBb0JJLDBKQUdnRDtZQUhoRCxrSkFHZ0Q7SUFDaEQseUJBQW9DO0lBQ3BDLGtEQUFrRCxFQUFBO0VBekJ0RDtJQTZCSSxlQUFlO0lBQ2YscUJBQXFCLEVBQUE7RUE5QnpCO0lBaUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLGdEQUE2QztJQUM3QyxZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVk7SUFDWixXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLFlBQVksRUFBQTtFQTFDaEI7SUE4Q0ksZ0RBQTZDO0lBQzdDLHlCQUF5QixFQUFBO0VBL0M3QjtJQW1ESSx5QkFBeUIsRUFBQTtFQW5EN0I7SUF1REkscUJBQXFCLEVBQUE7RUF2RHpCO01BeURNLFNBQVMsRUFBQTtFQXpEZjtNQTRETSxpQkFBaUIsRUFBQTtFQTVEdkI7SUFpRU0sVUFBVSxFQUFBO0VBakVoQjtJQW9FTSxrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2dyYXBoLW5vZGUvc29ja2V0L3NvY2tldC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgcGFkZGluZzogbm9uZTtcbiAgcG9zaXRpb246IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG5cbiAgLnNvY2tldCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbi10b3A6IDRweDtcbiAgICB3aWR0aDogMThweDtcbiAgICBoZWlnaHQ6IDE4cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTI4LDEyOCwxNjQpO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCA0cHggIzAwMDtcbiAgICBmaWx0ZXI6IG5vbmU7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgfVxuXG4gIC5zb2NrZXQ6aG92ZXIge1xuICAgIGZpbHRlcjpcbiAgICAgIGRyb3Atc2hhZG93KDAgMCAycHggcmdiYSgxNjQsIDE2NCwgMTc4LCAwLjgpKVxuICAgICAgZHJvcC1zaGFkb3coMCAwIDRweCByZ2JhKDEyOCwgMTI4LCAyMDAsIDAuMikpXG4gICAgICBkcm9wLXNoYWRvdygwIDAgMjRweCByZ2JhKDEyOCwgMTI4LCAyMjYsIDAuMikpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMDAsIDIwMCwgMjI4KTtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgOHB4IHJnYmEoMTY0LCAxNjQsIDIyNiwgMC42KTtcbiAgfVxuXG4gIC5zb2NrZXQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cbiAgaW5wdXQge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREREREREO1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggNHB4IHJnYmEoMCwwLDAsMC42KTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY29sb3I6ICMzMzMzMzM7XG4gICAgaGVpZ2h0OiAxOHB4O1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgcGFkZGluZzogNHB4O1xuICB9XG5cbiAgaW5wdXQ6aG92ZXIsIGlucHV0OmZvY3VzLCBpbnB1dDphY3RpdmUge1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggMnB4IHJnYmEoMCwwLDAsMC42KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUVFRUVFO1xuICB9XG5cbiAgaW5wdXQ6Zm9jdXMsIGlucHV0OmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgfVxuXG4gICYuaW5wdXQge1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAuc29ja2V0IHtcbiAgICAgIGxlZnQ6IDVweDtcbiAgICB9XG4gICAgLnNvY2tldC10aXRsZSB7XG4gICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG4gIH1cbiAgJi5vdXRwdXQge1xuICAgIC5zb2NrZXQge1xuICAgICAgcmlnaHQ6IDVweDtcbiAgICB9XG4gICAgLnNvY2tldC10aXRsZSB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XG4gICAgfVxuICB9XG59XG4iXX0= */\"","import { Component, OnInit, ElementRef, HostListener, Input } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { SocketConnectorService } from '../../socket-connector.service';\n\n@Component({\n  selector: 'app-socket',\n  templateUrl: './socket.component.html',\n  styleUrls: ['./socket.component.scss']\n})\n\nexport class SocketComponent implements OnInit {\n  @Input() socket;\n  isConnecting = false;\n\n  position: {\n    x: number,\n    y: number\n  };\n\n  onClick(event) {\n    console.log(event);\n    event.stopPropagation();\n    this.socket.disconnect();\n  }\n\n  onMousedown(event) {\n    event.stopPropagation();\n    this.service.startConnection(this.socket, event.target);\n  }\n\n  onKey(event) {\n    this.socket.setValue(event.target.value, true);\n  }\n\n  @HostListener('mouseup', ['$event'])\n  onMouseup(event) {\n    this.service.attemptConnection(this.socket);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  documentMouseUp(event) {\n    this.service.cleanup();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  constructor(\n    private service: SocketConnectorService,\n    private elementRef: ElementRef\n  ) { }\n\n  ngOnInit() {\n    const element = this.elementRef.nativeElement;\n    this.position = {\n      x: element.offsetLeft + element.offsetWidth / 2,\n      y: element.offsetTop + element.offsetTop / 2\n    };\n\n    if (this.socket.constructor.name === 'InputNode') {\n      this.service.connections.find(connection => connection === this.socket.connection).endPos = this.position;\n    }\n    if (this.socket.connections) {\n      this.socket.connections\n        .map(socketConnection => this.service.connections.find(connection => connection === socketConnection).startPos = this.position);\n    }\n  }\n}\n","import Tone from 'tone';\n\nexport interface NodeSocket<T> {\n  socketType: string;\n  id: string;\n  connections: NodeConnection<T>[];\n}\n\nexport class NodeInput<T> implements NodeSocket<T> {\n  constructor(\n    public title: string = 'Input',\n    public node: Node,\n    public updateOutputs,\n    public defaultValue: T = null,\n    public allowInput: boolean = false,\n  ) {\n    this.id = Math.random().toString(36).substr(2, 9);\n    this.value = defaultValue;\n  }\n\n  socketType = 'input';\n  id;\n  connections = [];\n  value: T;\n  active: boolean;\n\n  setValue(value, active) {\n    this.value = value;\n    this.active = active;\n\n    if (this.value && active) {\n      this.updateOutputs(this);\n    }\n  }\n\n  disconnect() {\n    this.connections.map(conn => {\n      this.node.onDisconnect(conn);\n      conn.from.disconnectInput(this);\n    });\n    this.connections = [];\n  }\n}\n\nexport class NodeOutput<O> implements NodeSocket<O> {\n  constructor(\n    public title: string = 'Output',\n    public node: Node,\n    public processInputs: (inputs: NodeInput<any>[]) => O = () => null,\n  ) {\n    this.id = Math.random().toString(36).substr(2, 9);\n  }\n\n  socketType = 'output';\n  id: string;\n\n  connections = [];\n  connectTo(target: NodeInput<O>): NodeOutput<O> {\n\n    const connection = new NodeConnection<O>(this, target);\n    this.connections.push(connection);\n    target.connections.push(connection);\n\n    this.node.onConnect(this);\n    target.node.onConnect(this);\n\n    return this;\n  }\n\n  trigger(value: O, active): void {\n    this.connections.map(conn => conn.to.setValue(value, active));\n  }\n\n  disconnect() {\n    this.connections.map(conn => conn.to.disconnect());\n  }\n\n  disconnectInput(input) {\n    this.node.onDisconnect(input);\n    this.connections = this.connections.filter(conn => conn.to !== input);\n  }\n}\n\nexport class NodeConnection<T> {\n  constructor(\n    public from: NodeOutput<T>,\n    public to: NodeInput<T>\n  ) { }\n}\n\ntype NodeInputs = NodeInput<any>[];\ntype NodeOutputs = NodeOutput<any>[];\n\nexport interface Node {\n  inputs: NodeInputs;\n  outputs: NodeOutputs;\n\n  onConnect: (socket: NodeSocket<any>) => void;\n  onDisconnect: (socker: NodeSocket<any>) => void;\n}\n\n/**\n * Node base class\n *\n * @param title: The Node's display title.\n */\nexport class BaseNode implements Node {\n\n  inputs = [];\n  outputs = [];\n\n  processInputs() {\n    const values = this.inputs.map(input => input.value);\n    return this.handleInputValues(values);\n  }\n\n  handleInputValues(values) {\n    return values;\n  }\n\n\n  get connections() {\n    const inputConnections = this.inputs.filter(input => input.connection).map(input => input.connection);\n    const outputConnections = this.outputs.reduce((connections, output) => {\n      return connections.concat(output.connections);\n    }, []);\n    return inputConnections.concat(outputConnections);\n  }\n\n  updateOutputs(input) {\n    this.outputs.map(output => {\n      const value = output.processInputs(this.inputs);\n      output.trigger(value, true);\n    });\n    this.onUpdate();\n  }\n\n  onUpdate() {\n    return;\n  }\n\n  addInput<T>({\n    node,\n    updateOutputs = this.updateOutputs.bind(this),\n    title = 'Input',\n    defaultValue = null,\n    allowInput = false\n  }) {\n\n    this.inputs.push(new NodeInput<T>(\n      title, node, updateOutputs, defaultValue, allowInput\n    ));\n  }\n\n  addOutput<T>({\n    node,\n    processInputs = this.processInputs.bind(this),\n    title = 'Output'\n  }) {\n\n    this.outputs.push(new NodeOutput<T>(title, node, processInputs));\n  }\n\n  onConnect(socket: NodeSocket<any>) {\n    return;\n  }\n\n  onDisconnect(socket: NodeSocket<any>) {\n    return;\n  }\n}\n\nclass ConstNode<T> extends BaseNode {\n  constructor(\n    public title = 'Constant',\n    public outputCount = 1\n  ) {\n    super();\n    Array.from(new Array(this.outputCount)).map(_ => this.addOutput<T>({\n      node: this, processInputs: this.processInputs.bind(this)\n    }));\n  }\n}\n","module.exports = \"<div *ngFor=\\\"let note of notes\\\"\\n  class=\\\"key\\\"\\n  [ngClass]=\\\"classNames(note)\\\"\\n  [attr.data-note]=\\\"'' + note\\\"\\n  (mousedown)=\\\"onMousedown(note, $event)\\\"\\n  (mouseleave)=\\\"onMouseleave(note, $event)\\\"\\n  (mouseenter)=\\\"onMouseenter(note, $event)\\\"\\n>\\n</div>\\n\"","module.exports = \":host {\\n  display: flex;\\n  height: 100px;\\n  position: relative; }\\n  :host .key {\\n    border-radius: 2px;\\n    background: var(--bg-color);\\n    -webkit-filter: drop-shadow(4px 4px 4px rgba(0, 0, 0, 0.5));\\n            filter: drop-shadow(4px 4px 4px rgba(0, 0, 0, 0.5));\\n    box-shadow: inset 0px 0px 0px -2px rgba(0, 0, 0, 0);\\n    transition: all 0.15s ease-out; }\\n  :host .key.black {\\n      width: 20px;\\n      margin-bottom: 20px;\\n      margin-left: -10px;\\n      margin-right: -10px;\\n      z-index: 1;\\n      --bg-color: #222222;\\n      --bg-color-hover: #444444; }\\n  :host .key.white {\\n      width: 28px;\\n      bottom: 0;\\n      z-index: 0;\\n      --bg-color: #CCCCCC;\\n      --bg-color-hover: #DDDDDD; }\\n  :host .key:hover {\\n      background-color: var(--bg-color-hover); }\\n  :host .key:focus, :host .key:active, :host .key.active {\\n      background-color: #ABEEAA;\\n      box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.2);\\n      -webkit-filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.5)) drop-shadow(0px 0px 2px rgba(200, 255, 200, 0.8)) drop-shadow(0px 0px 10px rgba(200, 255, 200, 0.8)) drop-shadow(0px 0px 20px rgba(200, 255, 200, 0.6)) blur(0.2px);\\n              filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.5)) drop-shadow(0px 0px 2px rgba(200, 255, 200, 0.8)) drop-shadow(0px 0px 10px rgba(200, 255, 200, 0.8)) drop-shadow(0px 0px 20px rgba(200, 255, 200, 0.6)) blur(0.2px); }\\n  :host .key:focus.white, :host .key:active.white, :host .key.active.white {\\n        box-shadow: inset 0px 0px 4px -2px rgba(0, 0, 0, 0.5); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RpYm9yL1Byb2plY3RzL3ZpcnR1YXcvdmlydHVhdy13ZWIvc3JjL2FwcC9rZXlib2FyZC9rZXlib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixhQUFhO0VBRWIsa0JBQWtCLEVBQUE7RUFKcEI7SUEyQ0ksa0JBQWtCO0lBQ2xCLDJCQUEyQjtJQUMzQiwyREFBZ0Q7WUFBaEQsbURBQWdEO0lBQ2hELG1EQUFrRDtJQUNsRCw4QkFBOEIsRUFBQTtFQS9DbEM7TUFPTSxXQUFXO01BQ1gsbUJBQW1CO01BQ25CLGtCQUFrQjtNQUNsQixtQkFBbUI7TUFDbkIsVUFBVTtNQUVWLG1CQUFXO01BQ1gseUJBQWlCLEVBQUE7RUFkdkI7TUFpQk0sV0FBVztNQUNYLFNBQVM7TUFDVCxVQUFVO01BRVYsbUJBQVc7TUFDWCx5QkFBaUIsRUFBQTtFQXRCdkI7TUEwQk0sdUNBQXVDLEVBQUE7RUExQjdDO01BOEJNLHlCQUF5QjtNQUN6QiwwQ0FBdUM7TUFDdkMsK05BSW1CO2NBSm5CLHVOQUltQixFQUFBO0VBcEN6QjtRQXVDUSxxREFBa0QsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2tleWJvYXJkL2tleWJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBoZWlnaHQ6IDEwMHB4O1xuXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgLmtleSB7XG4gICAgJi5ibGFjayB7XG4gICAgICB3aWR0aDogMjBweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICBtYXJnaW4tbGVmdDogLTEwcHg7XG4gICAgICBtYXJnaW4tcmlnaHQ6IC0xMHB4O1xuICAgICAgei1pbmRleDogMTtcblxuICAgICAgLS1iZy1jb2xvcjogIzIyMjIyMjtcbiAgICAgIC0tYmctY29sb3ItaG92ZXI6ICM0NDQ0NDQ7XG4gICAgfVxuICAgICYud2hpdGUge1xuICAgICAgd2lkdGg6IDI4cHg7XG4gICAgICBib3R0b206IDA7XG4gICAgICB6LWluZGV4OiAwO1xuXG4gICAgICAtLWJnLWNvbG9yOiAjQ0NDQ0NDO1xuICAgICAgLS1iZy1jb2xvci1ob3ZlcjogI0RERERERDtcbiAgICB9XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yLWhvdmVyKTtcbiAgICB9XG5cbiAgICAmOmZvY3VzLCAmOmFjdGl2ZSwgJi5hY3RpdmUge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0FCRUVBQTtcbiAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IHJnYmEoMCwwLDAsMC4yKTtcbiAgICAgIGZpbHRlcjogZHJvcC1zaGFkb3coMnB4IDJweCAycHggcmdiYSgwLDAsMCwwLjUpKVxuICAgICAgICAgICAgICBkcm9wLXNoYWRvdygwcHggMHB4IDJweCByZ2JhKDIwMCwyNTYsMjAwLDAuOCkpXG4gICAgICAgICAgICAgIGRyb3Atc2hhZG93KDBweCAwcHggMTBweCByZ2JhKDIwMCwyNTYsMjAwLDAuOCkpXG4gICAgICAgICAgICAgIGRyb3Atc2hhZG93KDBweCAwcHggMjBweCByZ2JhKDIwMCwyNTYsMjAwLDAuNikpXG4gICAgICAgICAgICAgIGJsdXIoMC4ycHgpO1xuXG4gICAgICAmLndoaXRlIHtcbiAgICAgICAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCA0cHggLTJweCByZ2JhKDAsMCwwLDAuNSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWNvbG9yKTtcbiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDRweCA0cHggNHB4IHJnYmEoMCwwLDAsMC41KSk7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCAwcHggLTJweCByZ2JhKDAsMCwwLDAuMCk7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMTVzIGVhc2Utb3V0O1xuICB9XG59XG4iXX0= */\"","import { Component, OnInit, Input, HostListener } from '@angular/core';\n\n@Component({\n  selector: 'app-keyboard',\n  templateUrl: './keyboard.component.html',\n  styleUrls: ['./keyboard.component.scss']\n})\nexport class KeyboardComponent implements OnInit {\n  /**\n   * MIDI value of start note, default is 36 (C2)\n   */\n  @Input() startNote = 24;\n  /**\n   * MIDI value of end note, default is 36 (C5)\n   */\n  @Input() endNote = 112;\n  /**\n   * Trigger function\n   */\n  @Input() onTrigger = (value, active) => null;\n  /**\n   * Array of 36 MIDI notes from start to end note (default C2 to C5)\n   */\n  get notes() {\n    const { startNote, endNote } = this;\n    const range = endNote - startNote;\n    return Array.from(Array(range)).map((_, note) => note + startNote);\n  }\n  /**\n   * Currently active notes\n   */\n  activeNotes = new Set();\n\n  onMousedown(note, event) {\n    this.trigger(note, true, event);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  onMouseleave(note, event) {\n    this.trigger(note, false, event);\n  }\n\n  onMouseenter(note, event) {\n    if (event.buttons === 1) {\n      this.trigger(note, true, event);\n    }\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseup(event) {\n    this.activeNotes.forEach(value => this.trigger(value, false, event));\n  }\n  /**\n   * Event callback\n   */\n  trigger(value, active, event) {\n    if (active) {\n      this.onTrigger(value, active);\n      this.activeNotes.add(value);\n    } else {\n      this.activeNotes.delete(value);\n    }\n  }\n\n\n  /**\n   * Returns key type based on MIDI base note.\n   */\n  keyType(note) {\n    const blackNotes = [1, 3, 6, 8, 10];\n    return blackNotes.includes(note % 12) ? 'black' : 'white';\n  }\n\n  classNames(note) {\n    return this.keyType(note) + (this.activeNotes.has(note) ? ' active' : '');\n  }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { BaseNode, NodeInput, NodeOutput, Node } from './graphNodes';\nimport Tone from 'tone';\n\nexport class MidiNode extends BaseNode {\n  constructor(\n    public title: string = 'Node',\n  ) {\n    super();\n    this.addInput<Tone.Frequency[]>({\n      node: this,\n      updateOutputs: this.updateOutputs.bind(this),\n      title: 'Input Notes'\n    });\n    this.addOutput<Tone.Frequency[]>({\n      node: this,\n      processInputs: this.processInputs.bind(this),\n      title: 'Output Notes'\n    });\n  }\n\n  addInput<T>({\n    node,\n    updateOutputs = this.updateOutputs.bind(this),\n    title = 'Input Notes',\n    defaultValue = null,\n    allowInput = false\n  }) {\n\n    this.inputs.push(new NodeInput<T>(\n      title, node, updateOutputs, defaultValue, allowInput\n    ));\n  }\n\n  addOutput<T>({\n    node,\n    processInputs = this.processInputs.bind(this),\n    title = 'Output Notes'\n  }) {\n\n    this.outputs.push(new NodeOutput<T>(title, node, processInputs));\n  }\n\n  handleInputValues(values) {\n    console.log('handling');\n    const notes = values[0];\n    return this.processAllNotes(notes);\n  }\n\n  processAllNotes(notes) {\n    return notes.map((note) => this.processSingleNote(note)).flat(Infinity);\n  }\n\n  processSingleNote(note) {\n    return note;\n  }\n}\n\n/**\n * Harmonize Node.\n * Takes array of interval half-steps and outputs the transposed input note(s)\n *\n * @param intervals: The harmonization intervals in half-steps\n */\nexport class HarmonizeNode extends MidiNode {\n  constructor(\n    public intervals: number[] = [0, 4, 7],\n    public title: string = 'Harmonize Node'\n  ) {\n    super();\n  }\n\n  /**\n   * Uses Tone.js for harmonization.\n   */\n  processSingleNote(note) {\n    const harmony = Tone.Midi(note).harmonize(this.intervals);\n    return harmony;\n  }\n}\n\n/**\n * Add Intervals Node.\n * Takes array of intervals and outputs the input note(s) as well as all transpositions\n *\n * @param intervals: The intervals to transpose the note(s) in half-steps\n */\nexport class AddIntervalsNode extends MidiNode {\n  constructor(\n    public intervals: number[] = [12],\n    public title: string = 'Add Intervals Node'\n  ) {\n    super();\n  }\n\n  processSingleNote(note) {\n    const transposed = this.intervals.map(i => note.transpose(i));\n    return [note].concat(...transposed);\n  }\n}\n\nexport class ArpeggiatorNode extends MidiNode {\n  constructor(\n    public duration: number = 100,\n    public repeats: number = 1,\n    public direction: string = 'up',\n    public shuffle: boolean = false,\n    public title: string = 'Arpeggiator Node'\n  ) {\n    super();\n    this.addInput({\n      node: this,\n      title: 'Duration',\n      defaultValue: duration\n    });\n    this.addInput({\n      node: this,\n      title: 'Repeats',\n      updateOutputs: this.updateOutputs.bind(this),\n      defaultValue: repeats\n    });\n  }\n\n  handleInputValues(values) {\n    const notes = values[0];\n    this.processAllNotes(notes);\n\n    const duration = values[1];\n    this.duration = duration;\n\n    const repeats = values[2];\n    this.repeats = repeats;\n  }\n\n  processAllNotes(notes) {\n    this.arpeggiate(notes);\n    if (this.direction === 'up') {\n      notes.reverse();\n    }\n  }\n\n  arpeggiate(notes) {\n    if (!notes || notes.length === 0) {\n      return [];\n    }\n\n    const note = notes.pop();\n    this.outputs[0].trigger([note], true);\n    setTimeout(() => this.arpeggiate(notes), this.duration);\n    return [];\n  }\n}\n\n/**\n * Synth Node\n *\n * Outputs the input note(s) and triggers a synth attack as side-effect.\n */\nexport class SynthNode extends MidiNode {\n  constructor(\n    public title: string = 'Synth Node',\n    public synth: Tone.Synth = new Tone.PolySynth().toMaster(),\n  ) {\n    super();\n    this.addInput({\n      node: this,\n      title: 'Envelope'\n    });\n  }\n\n  handleInputValues(values) {\n    this.processAllNotes(values[0]);\n    if (values[1]) {\n      this.synth.set({\n        envelope: values[1]\n      });\n    }\n    return values[0];\n  }\n\n  processAllNotes(notes) {\n    this.synth.triggerAttackRelease(notes, '4n');\n    return notes;\n  }\n}\n\n/**\n * Keyboard Node\n *\n * Outputs the trigger's input number as MIDI note.\n */\nexport class KeyboardNode extends MidiNode {\n  constructor(\n    public title: string = 'Keyboard Node'\n  ) {\n    super();\n    this.inputs = [];\n    this.addInput({\n      node: this,\n      updateOutputs: this.showNotes.bind(this),\n      title: 'Display Notes'\n    });\n  }\n\n  showNotes() {\n    this.inputs[0].value.map(note => {\n      document.querySelectorAll(`.key[data-note=\"${note.toMidi()}\"]`).forEach(el => {\n        el.classList.add('active');\n        setTimeout(() => el.classList.remove('active'), 500);\n      });\n    });\n  }\n\n  onTrigger(value, active): void {\n    this.outputs[0].trigger([new Tone.Frequency(value, 'midi')], active);\n  }\n}\n\n/**\n * Envelope Node\n *\n * Inputs: Attack, Sustain, Delay and Release as numbers\n * Outputs: Tone.js Envelope\n */\nexport class EnvelopeNode extends BaseNode {\n  constructor(\n    public attack: number = 0.2,\n    public decay: number = 0.1,\n    public sustain: number = 0.5,\n    public release: number = 1,\n    public title: string = 'Envelope Node'\n  ) {\n\n    super();\n    this.addInput({\n      node: this,\n      title: 'Attack',\n      defaultValue: attack,\n      allowInput: true\n    });\n    this.addInput({\n      node: this,\n      title: 'Decay',\n      defaultValue: decay,\n      allowInput: true\n    });\n    this.addInput({\n      node: this,\n      title: 'Sustain',\n      defaultValue: sustain,\n      allowInput: true\n    });\n    this.addInput({\n      node: this,\n      title: 'Release',\n      defaultValue: release,\n      allowInput: true\n    });\n\n    this.addOutput({\n      node: this,\n      processInputs: this.processInputs.bind(this),\n      title: 'Envelope'\n    });\n\n    this.envelope = { attack, decay, sustain, release };\n    this.outputs[0].trigger(this.envelope, true);\n  }\n\n  envelope: Tone.Envelope;\n\n  handleInputValues(values) {\n    this.envelope = {\n      attack: values[0], decay: values[1], sustain: values[2], release: values[3]\n    };\n    this.outputs[0].trigger(this.envelope);\n    return this.envelope;\n  }\n\n  onConnect(socket) {\n    if (socket.socketType === 'output') {\n      this.outputs[0].trigger(this.envelope);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { NodeOutput, NodeInput } from './graphNodes';\n\ntype maybeSocket = boolean | NodeOutput<any> | NodeInput<any>;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketConnectorService {\n  isConnecting = false;\n  startElement: HTMLElement;\n  connections = [];\n\n  elementConnections = [];\n\n  inputTarget?: NodeInput<any>;\n  outputTarget?: NodeOutput<any>;\n\n  startSocketType?: string;\n\n  startConnection(startSocket, startElement) {\n    if (startSocket.socketType === 'output') {\n      this.outputTarget = startSocket;\n    } else {\n      this.inputTarget = startSocket;\n    }\n    this.startSocketType = startSocket.socketType;\n    this.startElement = startElement;\n    this.isConnecting = true;\n  }\n\n  attemptConnection(endSocket) {\n    if (this.isConnecting && endSocket.socketType !== this.startSocketType) {\n      if (endSocket.socketType === 'output') {\n        this.outputTarget = endSocket;\n      } else {\n        this.inputTarget = endSocket;\n      }\n\n      this.outputTarget.connectTo(this.inputTarget);\n    }\n\n    this.cleanup();\n  }\n\n  cleanup() {\n    this.isConnecting = false;\n    delete this.startSocketType;\n    delete this.inputTarget;\n    delete this.outputTarget;\n    // this.targets = {\n    //   NodeInput: false,\n    //   NodeOutput: false\n    // };\n  }\n\n  constructor() { }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}